
<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="author" content="ZURB, inc.">
  <title>Wrangle Demo</title>
  
  <link rel="stylesheet" href="stylesheets/app.css">
  
  <script src="javascripts/vendor/custom.modernizr.js"></script>
</head>
<body class="antialiased">

	<header class="header">
    <h1>Wrangle Demo</h1>

    <ul class="links">
      <li><a href="#" data-reveal-id="about">About</a></li>
    </ul>
  </header>

  <div class="wrangle-demo">
    <div data-wrangle class="demo-main">
      <!-- Gallery view -->
      <div data-selectarea class="gallery">
        <canvas data-canvas></canvas>
        <ul data-list>
          <li data-photo="1">
            <img src="http://placekitten.com/400/300" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placekitten.com/400/300" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placekitten.com/400/300" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placekitten.com/400/300" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placekitten.com/400/300" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placekitten.com/400/300" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
          <li data-photo="1">
            <img src="http://placehold.it/4x3" alt="Photo">
          </li>
        </ul>
      </div>
      <!-- /Gallery view -->

      <!-- Toolbar -->
      <div class="toolbar">
        <a class="secondary button" data-edit>Edit</a>

        <div class="edit-toolbar">
          <a class="secondary button" data-edit>Cancel</a>
          <a class="button" data-action="star">Star</a>
          <a class="button" data-action="invert">Invert</a>
          <a class="alert button" data-action="delete">Delete</a>
        </div>
      </div>
      <!-- /Toolbar -->
    </div>
  </div>

  <div id="about" class="reveal-modal">
    <a class="close-reveal-modal">x</a>
    <h2>About this demo</h2>
    <p>This is a demonstration of Wrangle, a jQuery plugin developed by ZURB.</p>
  </div>

  <div class="photo-viewer">
    <img>
  </div>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  
  <script src="javascripts/foundation/foundation.js"></script>
	<script src="javascripts/foundation/foundation.joyride.js"></script>
  <script src="javascripts/foundation/foundation.placeholder.js"></script>
  <script src="javascripts/foundation/foundation.reveal.js"></script>

  <script src="javascripts/vendor/jquery.wrangle.js"></script>
  <script src="javascripts/app.js"></script>
  
  <script>
    var options = {
      touchMode: 'auto',
      selectToggle: false,
      multiTouch: true,
    };
    var actions = {
      'delete': function(items) {
        if (items.length > 0) {
          str = 'Are you sure you want to delete ';
          str += items.length === 1 ? 'this photo?' : ('these ' + items.length + ' photos?');
          if (confirm(str)) {
            items.remove();
            return false;
          }
        }
      },
      'star': function(items) {
        items.toggleClass('starred');
      },
      'invert': function(items) {
        items.toggleClass('inverted');
      }
    };

    $(document).foundation();
    $(window).on('load', function() {
      $(document).wrangle(options, actions);
    });

    var $container = $('[data-wrangle]').eq(0);
    var $modal     = $('.photo-viewer').eq(0);
    var $modalImg  = $modal.children('img').eq(0);

    $('[data-list] > li').click(function() {
      if (!$container.hasClass('editable')) {
        $modalImg.attr('src', $(this).children('img').attr('src'));

        if ($(this).hasClass('inverted'))
          $modal.addClass('inverted');
        else
          $modal.removeClass('inverted');

        $modal.fadeIn(250);
      }
    });
    $modal.on('click touchstart', function() {
      $modal.fadeOut(250);
      return false;
    });
  </script>
</body>
</html>
